<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1, width=device-width" />

    <link rel="stylesheet" href="./css/Redirect.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Nunito:wght@500;600;700&display=swap"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;400&display=swap"
    />
  </head>
  <body>
    <div class="redirect">
      <section class="navbar">
        <div class="material-symbolsarrow-back-io-parent">
          <div class="material-symbolsarrow-back-io" onclick="goBack()">
            <img
              class="back-icon"
              loading="lazy"
              alt=""
              src="./images/back.svg"
            />
          </div>
          <div class="welcome-container">
            <div class="welcome-message">
              <h3 class="welcome-to-your">Welcome to your dashboard</h3>
              <h3 class="username" id="username">Username</h3>
            </div>
          </div>
        </div>
      </section>
      <section class="content">
        <div class="content-wrapper">
          <div class="inner-content">
            <div class="inner-content-inner">
              <div class="ellipse-parent">
                <div class="frame-child"></div>
                <img
                  class="logo-icon"
                  loading="lazy"
                  alt=""
                  src="./images/log.png"
                />
              </div>
            </div>
          </div>
          <div class="line-parent">
            <div class="line"></div>
            <div class="frame-wrapper">
              <div class="date-parent">
                <div class="date">Date :</div>
                <div class="empty-value-wrapper">
                  <div class="empty-value" id="currentDate">26/06/2023</div>
                </div>
              </div>
            </div>
            <div class="line1"></div>
            <div class="frame-container">
              <div class="reading-time-parent">
                <div class="reading-time">Reading_time :</div>
                <div class="div" id="readingTime">17:01</div>
              </div>
            </div>
            <div class="line2"></div>
            <div class="frame-div">
              <div class="reading-value-parent">
                <div class="reading-value">Reading_value :</div>
                <div class="kw" id="readingValue">24000KW</div>
              </div>
            </div>
            <div class="line3"></div>
            <div class="frame-wrapper1">
              <div class="last-reading-time-parent">
                <div class="last-reading-time">Last_reading_time :</div>
                <div class="wrapper">
                  <div class="div1" id="lastReadingTime">17:01</div>
                </div>
              </div>
            </div>
            <div class="line4"></div>
            <div class="frame-wrapper2">
              <div class="last-reading-value-parent">
                <div class="last-reading-value">Last_reading_value :</div>
                <b class="kw1" id="lastReadingValue">1000KW</b>
              </div>
            </div>
            <div class="line5"></div>
            <div class="frame-wrapper3">
              <div class="last-reading-date-parent">
                <div class="last-reading-date">Last_reading_date :</div>
                <div class="container">
                  <div class="div2" id="lastReadingDate">26/06/2023</div>
                </div>
              </div>
            </div>
            <div class="line6"></div>
          </div>
        </div>
      </section>
      <section class="usage-wrapper-wrapper">
        <div class="usage-wrapper">
          <div class="percentage-usage">Percentage Usage</div>
          <div class="percentage">
            <b class="b">0.0%</b>
            <div class="amount-wrapper">
              <b class="ghs-12000">Ghs 120.00</b>
            </div>
          </div>
        </div>
      </section>
      <section class="footer-section">
        <div class="footer-content">
          <div class="social-buttons">
            <img
              class="logo-icon1"
              loading="lazy"
              alt=""
              src="./images/biglogo.svg"
            />

            <div class="watcal">WatCal</div>
          </div>
        </div>
        <div class="navigation">
          <div class="navigation-buttons">
            <div class="text-button" id="textButton">Home</div>
            <div class="text-button1" id="textButton1">Help Desk</div>
            <div class="text-button2" id="textButton2">About</div>
            <div class="text-button3" id="textButton3">Security</div>
          </div>
        </div>
        <div class="line7"></div>
        <div class="action-buttons-wrapper">
          <div class="action-buttons">
            <div class="button">
              <div class="icon-button-containers">
                <img
                  class="icon"
                  loading="lazy"
                  alt=""
                  src="./images/mail.svg"
                />
              </div>
              <div class="text-button4">manuelansah955@gmail.com</div>
            </div>
            <div class="button1">
              <div class="icon-wrapper">
                <img
                  class="icon1"
                  loading="lazy"
                  alt=""
                  src="./images/phone.svg"
                />
              </div>
              <div class="text-button5">+233 59 829 6141</div>
            </div>
          </div>
        </div>
        <div class="line8"></div>
        <footer class="container1">
          <div class="navigation-label">
            <div class="contact-message">WatCal All Rights Reserved</div>
          </div>
          <div class="navigation-icons">
            <div class="button2">
              <img
                class="icon2"
                loading="lazy"
                alt=""
                src="./images/facebook.svg"
              />
            </div>
            <div class="button3">
              <img
                class="icon3"
                loading="lazy"
                alt=""
                src="./images/twitter.svg"
              />
            </div>
            <div class="button4">
              <img
                class="icon4"
                loading="lazy"
                alt=""
                src="./images/linkedin.svg"
              />
            </div>
          </div>
          <div class="secondary-buttons">
            <div class="button-pair">
              <div class="text-button6" id="textButton6">Privacy Policy</div>
              <div class="line9"></div>
              <div class="text-button7" id="textButton7">Terms of Service</div>
            </div>
          </div>
        </footer>
      </section>
    </div>

    <script>
          function goBack() {
      window.history.back();
    }
      var textButton1 = document.getElementById("textButton1");
      if (textButton1) {
        textButton1.addEventListener("click", function (e) {
            window.location.href = "Helpdesk.html";
        });
      }
      
      var textButton = document.getElementById("textButton");
      if (textButton) {
        textButton.addEventListener("click", function (e) {
            window.location.href = "Home.html";
        });
      }
      
      var textButton2 = document.getElementById("textButton2");
      if (textButton2) {
        textButton2.addEventListener("click", function (e) {
            window.location.href = "About.html"; 
        });
      }
      
      var textButton3 = document.getElementById("textButton3");
      if (textButton3) {
        textButton3.addEventListener("click", function (e) {
            window.location.href = "Security.html";
        });
      }
      
      var textButton6 = document.getElementById("textButton6");
      if (textButton6) {
        textButton6.addEventListener("click", function (e) {
            window.location.href = "Privacy.html";
        });
      }
      
      var textButton7 = document.getElementById("textButton7");
      if (textButton7) {
        textButton7.addEventListener("click", function (e) {
            window.location.href = "Terms.html";
        });
      }



      document.addEventListener('DOMContentLoaded', function() {
    const tenantData = JSON.parse(localStorage.getItem('tenantData'));
    if (!tenantData) {
        window.location.href = 'login.html';
        return;
    }

    document.getElementById('username').textContent = tenantData.username;
    document.getElementById('currentDate').textContent = new Date().toLocaleDateString();

    // Display tenant readings
    if (tenantData.readings.length > 0) {
        const lastReading = tenantData.readings[tenantData.readings.length - 1];
        document.getElementById('readingTime').textContent = new Date(lastReading.timestamp).toLocaleTimeString();
        document.getElementById('readingValue').textContent = `${lastReading.readingValue}KW`;

        const previousReading = tenantData.readings[tenantData.readings.length - 2];
        if (previousReading) {
            document.getElementById('lastReadingTime').textContent = new Date(previousReading.timestamp).toLocaleTimeString();
            document.getElementById('lastReadingValue').textContent = `${previousReading.readingValue}KW`;
        } else {
            document.getElementById('lastReadingTime').textContent = 'N/A';
            document.getElementById('lastReadingValue').textContent = 'N/A';
        }
    } else {
        // No readings available
        document.getElementById('readingTime').textContent = 'N/A';
        document.getElementById('readingValue').textContent = 'N/A';
        document.getElementById('lastReadingTime').textContent = 'N/A';
        document.getElementById('lastReadingValue').textContent = 'N/A';
    }

    // Display percentage usage and cost
    document.querySelector('.percentage .b').textContent = `${tenantData.percentageUsage}%`;
    document.querySelector('.amount-wrapper .ghs-12000').textContent = `Ghs ${tenantData.cost}`;
});

      </script>
  </body>
</html>